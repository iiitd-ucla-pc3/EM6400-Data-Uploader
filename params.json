{"name":"Em6400-data-uploader","tagline":"","body":"**Setting up Hardware**\r\n\r\n* After existing meter, put CT's of required capacity on different phases.\r\n* Set the communication parameters on EM6400 as 19200,8,N,1 \r\n* Connect the D+ coming from the meter to the D- of RS485 to USB module and vice versa.\r\n\r\n***\r\n\r\n**Setting up Software**\r\n\r\nAfter logging into plug computer and connecting it to internet run the following scripts. For internet connection see the following.\r\n    `apt-get install git`\r\n    `git clone git://github.com/iiitd-ucla-pc3/EM6400-Data-Uploader.git`\r\n`cd EM6400-Data-Uploader/EM6400`\r\n* `sh install.sh`\r\n\r\n***\r\n\r\n**Configuring software**\r\n\r\nInside EM6400 folder create a file named db_password.py\r\n\r\n`nano db_password.py`\r\n\r\nIn this file write your Dropbox email and password as follows:\r\n\r\n`email=YOUR_DROPBOX_REGISTERED_EMAIL_ID    password=YOUR_DROPBOX_PASSWORD`\r\n\r\nOpen configuration.py file and adjust the following parameters according to your environment\r\n* `THRESHOLD_TIME`: Time in seconds after which a new CSV is created\r\n* `DATA_BASE_PATH`: The path where the data gets stored, for plug computer set it to `/root/data/`\r\n* `METER_PORT`    : The serial port where the meter is connected\r\n* `METER_ID`      : The slave id assigned to the meter\r\n* `BAUD_RATE`     : The baud rate for serial communication\r\n* `BASE_UPLOAD_PATH`:The path on dropbox in which to upload files\r\n* `HEADER`          : Refer this page for more details about different parameters\r\n* `EM6400_BASE_REGISTER`: EM6400 Base Register\r\n* `EM6400_NUMBER_OF_REGISTERS`: Number of Registers to read\r\n* `GMT_TIME_DIFFERENCE_MILLISECONDS`: +5.5 hours=19800000 milliseconds\r\n* `TIMEZONE`: Refer to pytz documentation to put your timezone\r\n\r\nCopy rc.local from Plug_Computer_Scripts to /etc replacing the existing one on the plug computer.\r\nIn this file edit the following according to your configuration.\r\n* ESSID: Write your SSID replacing NETGEAR in the following line `iwconfig mlan0 essid NETGEAR`\r\n* Path for Data collection script: Modify `python /root/EM6400-Data-Uploader/EM6400/data_collect_csv_realtime_plot.py &` according to your setup.\r\n* Path for ping test script: Modify `sh /root/EM6400-Data-Uploader/EM6400/Plug_Computer_Scripts/ping_test.sh & ` according to your setup path.\r\n\r\nIn ping_test.sh file make the following changes according to your setup.\r\n* ROUTER_ADDRESS=\"192.168.0.1\"\r\n* Put your ESSID in the following line `iwconfig mlan0 essid \"NETGEAR\"`\r\n* Path to killproc: Modify the following path if needed: `sh /root/EM6400-Data-Uploader/EM6400/Plug_Computer_Scripts/killproc.sh`\r\n* Path to Dropbox Upload Script: Modify the following path if needed: `python /root/EM6400-Data-Uploader/EM6400/dropbox_upload.py & `\r\n\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n`\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}